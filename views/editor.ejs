<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Vise Editor</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#1e1e1e;color:#ccc;font-family:Inter,sans-serif;height:100vh;display:flex;flex-direction:column;overflow:hidden}.top-bar{height:40px;background:#252526;display:flex;align-items:center;justify-content:space-between;padding:0 10px;border-bottom:1px solid #000}.file-tab{background:#1e1e1e;padding:8px 15px;font-size:.8rem;border-top:1px solid #3b82f6;color:#fff;display:flex;align-items:center;gap:8px}.actions{display:flex;gap:10px;align-items:center}.id-input{background:#3c3c3c;border:1px solid #3c3c3c;color:#ccc;padding:4px 8px;border-radius:4px;font-family:monospace;font-size:.8rem;outline:none;width:150px}.id-input:focus{border-color:#3b82f6;color:#fff}.snippet-sel{background:#3c3c3c;color:#fff;border:none;padding:4px 8px;border-radius:4px;font-size:.8rem;cursor:pointer;outline:none}.pub-btn{background:#0e639c;color:#fff;border:none;padding:5px 12px;font-size:.8rem;cursor:pointer;border-radius:2px;display:flex;align-items:center;gap:6px}.pub-btn:hover{background:#1177bb}.main-area{display:flex;flex:1}.sidebar{width:50px;background:#333;display:flex;flex-direction:column;align-items:center;padding-top:10px;gap:15px;border-right:1px solid #000}.icon{width:24px;height:24px;color:#858585;cursor:pointer}.icon:hover{color:#fff}.icon.active{color:#fff;border-left:2px solid #fff;padding-left:10px;margin-left:-2px}#container{flex:1;height:100%}.status-bar{height:22px;background:#007acc;color:#fff;display:flex;align-items:center;padding:0 10px;font-size:.75rem;justify-content:flex-end;gap:15px}.modal{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:999}.modal-box{background:#252526;padding:20px;border-radius:6px;text-align:center;border:1px solid #454545}.loader{width:20px;height:20px;border:2px solid #333;border-top-color:#fff;border-radius:50%;margin:10px auto;animation:spin 1s infinite linear}@keyframes spin{to{transform:rotate(360deg)}}</style></head><body><div class="top-bar"><div class="file-tab"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#e37933" stroke-width="2"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg> index.html </div><div class="actions"><select class="snippet-sel" id="snippets" onchange="insSnip()"><option value="" disabled selected>Insert Snippet...</option><option value="base">HTML5 Boilerplate</option><option value="center">Centered Flexbox</option><option value="grad">Animated Gradient</option><option value="glass">Glassmorphism Card</option></select><input type="text" class="id-input" id="customId" placeholder="vise-name (opt)"> <button class="pub-btn" onclick="publish()"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg> Publish</button></div></div><div class="main-area"><div class="sidebar"><svg class="icon active" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div><div id="container"></div></div><div class="status-bar"><span>HTML</span><span>UTF-8</span><span>Ln 1, Col 1</span><span>Vise Editor</span></div><div class="modal" id="mod"><div class="modal-box"><div class="loader"></div><p style="margin-top:10px;font-size:.9rem">Uploading...</p></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script><script>let editor;require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs"}});const defaultCode=`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>My Vise Page</title>\n    <style>\n        body { background: #111; color: #fff; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }\n    </style>\n</head>\n<body>\n    <h1>Hello World</h1>\n</body>\n</html>`;require(["vs/editor/editor.main"],function(){editor=monaco.editor.create(document.getElementById("container"),{value:defaultCode,language:"html",theme:"vs-dark",automaticLayout:!0,minimap:{enabled:!0}})});const snips={base:'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>Document</title>\n</head>\n<body>\n\n</body>\n</html>',center:"<style>\nbody { display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }\n</style>",grad:"<style>\nbody { background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab); background-size: 400% 400%; animation: gradient 15s ease infinite; }\n@keyframes gradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }\n</style>",glass:'<style>\n.card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); padding: 2rem; border-radius: 12px; color: white; }\n</style>\n<div class="card">Glass Content</div>'};function insSnip(){const e=document.getElementById("snippets").value;if(snips[e]&&editor){const t=editor.getPosition();editor.executeEdits("",[{range:new monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:snips[e]}]),document.getElementById("snippets").value=""}}function publish(){const e=editor.getValue(),t=document.getElementById("customId").value,n=localStorage.getItem("vise_user")||"anonymous";document.getElementById("mod").style.display="flex";const o=new Blob([e],{type:"text/html"}),a=new File([o],"index.html",{type:"text/html"}),s=new FormData;s.append("viseHtml",a),s.append("customId",t),s.append("username",n),fetch("/upload/html",{method:"POST",body:s,headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{e.redirect?window.location.href=e.redirect:alert("Upload Error")}).catch(e=>{alert("Failed to upload"),document.getElementById("mod").style.display="none"})}</script></body></html>
