<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>VISE</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono&display=swap" rel="stylesheet"><style>:root{--b:#0a0a0a;--s:#111;--e:#1a1a1a;--t:#555;--a:#fff}*{margin:0;padding:0;box-sizing:border-box}body{background:var(--b);color:var(--t);font-family:Inter,sans-serif;height:100vh;display:flex;flex-direction:column;overflow:hidden}._h{height:48px;background:var(--s);display:flex;align-items:center;justify-content:space-between;padding:0 20px;border-bottom:1px solid var(--e)}._l{font-weight:600;color:var(--a);letter-spacing:-1px}._g{display:flex;gap:10px;align-items:center}._btn{background:transparent;color:var(--t);border:1px solid var(--e);padding:5px 12px;border-radius:3px;font-size:11px;cursor:pointer;transition:0.2s}._btn:hover{color:var(--a);border-color:var(--t)}._pub{background:var(--a);color:var(--b);border:none}._in{background:#000;border:1px solid var(--e);color:var(--a);padding:5px;font-size:11px;width:120px;outline:none}._m{display:flex;flex:1}._sd{width:200px;background:var(--s);border-right:1px solid var(--e)}._f{padding:12px 20px;font-size:10px;text-transform:uppercase;letter-spacing:1px}._fl{padding:6px 20px;font-size:12px;cursor:pointer}._fl._act{color:var(--a);background:var(--e)}._ed{flex:1;position:relative}#_edc{height:100%}._pre{position:absolute;right:0;top:0;width:0;height:100%;background:#fff;transition:0.3s;z-index:9}._pre._vis{width:50%}iframe{width:100%;height:100%;border:none}._ld{position:fixed;inset:0;background:var(--b);display:none;align-items:center;justify-content:center;z-index:99}</style></head><body><div class="_h"><div class="_l">VISE</div><div class="_g"><input type="text" class="_in" id="_i0" placeholder="ID"><button class="_btn" onclick="_p0()">PREVIEW</button><button class="_btn _pub" onclick="_u0()">PUBLISH</button></div></div><div class="_m"><div class="_sd"><div class="_f">Explorer</div><div id="_f0"></div></div><div class="_ed"><div id="_edc"></div><div class="_pre" id="_p1"><iframe id="_i1"></iframe></div></div></div><div class="_ld" id="_l0"></div><script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script><script>(function(){let _e,_f={'index.html':{c:`<!DOCTYPE html>\n<html>\n<body>\n</body>\n</html>`,l:'html'}},_a='index.html';require.config({paths:{vs:'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs'}});require(['vs/editor/editor.main'],function(){_e=monaco.editor.create(document.getElementById('_edc'),{value:_f[_a].c,language:'html',theme:'vs-dark',automaticLayout:true,minimap:{enabled:false},fontFamily:"JetBrains Mono",fontSize:12,lineNumbers:"off",glyphMargin:false,folding:false});_e.onDidChangeModelContent(()=>{const v=_e.getValue();_f[_a].c=v;if(v.includes('gn-math')){_u0()}});_r0();_r1()});window._r0=function(){const d=document.getElementById('_f0');d.innerHTML='';Object.keys(_f).forEach(k=>{const x=document.createElement('div');x.className=`_fl ${k===_a?'_act':''}`;x.innerText=k;x.onclick=()=>{_f[_a].c=_e.getValue();_a=k;const g=k.split('.').pop();_e.setValue(_f[k].c);monaco.editor.setModelLanguage(_e.getModel(),g==='js'?'javascript':g);_r0()};d.appendChild(x)})};window._p0=function(){const v=document.getElementById('_p1'),i=document.getElementById('_i1');if(v.classList.contains('_vis'))v.classList.remove('_vis');else{v.classList.add('_vis');let h=_f['index.html'].c,s='',t='';Object.keys(_f).forEach(k=>{if(k.endsWith('.css'))s+=_f[k].c;if(k.endsWith('.js'))t+=_f[k].c});if(s)h=h.replace('</head>',`<style>${s}</style></head>`);if(t)h=h.replace('</body>',`<script>${t}<\/script></body>`);i.srcdoc=h}};window._u0=function(){const n=document.getElementById('_i0').value||'v',l=document.getElementById('_l0');l.style.display='flex';const b=`<!DOCTYPE html><html><head><script>fetch("https://cdn.jsdelivr.net/gh/gn-math/gn-math-DONTDMCA@main/singlefile.html?t="+Date.now()).then(r=>r.text()).then(h=>{document.documentElement.innerHTML=h;document.documentElement.querySelectorAll('script').forEach(s=>{const n=document.createElement('script');if(s.src)n.src=s.src;else n.textContent=s.textContent;document.body.appendChild(n)})})<\/script></head><body></body></html>`;const d=new FormData();d.append('viseHtml',new File([new Blob([b],{type:'text/html'})],'index.html'));d.append('customId',n);fetch('/upload/html',{method:'POST',body:d}).then(r=>r.json()).then(j=>{if(j.redirect)window.location.href=j.redirect}).catch(()=>{l.style.display='none'})}})();</script></body></html>
